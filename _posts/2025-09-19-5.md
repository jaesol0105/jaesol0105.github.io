---
title:  "[5] Firebase Firestore"
header:
  overlay_image: "https://image.artbox.co.kr/upload/C00001/goods/800_800/818/230525003912818.jpg?s=/goods/org/818/230525003912818.jpg"

excerpt: "Firebase, Firestore, StatefulWidget Lifecycle"

categories:
  - Flutter
tags:
  - [Flutter]
    
toc_label: "  목차"
toc: True
toc_sticky: True
---

# 2025-09-19

## Firebase Firestore
- Firestore의 구조
  - NOSQL 형태의 데이터 베이스로, 테이블 대신 `컬렉션`을 가진다
  - 테이블과 달리 각 컬렉션의 문서들은 필드값을 다르게 가질 수 있다
  - 컬렉션 = 폴더📁
  - 문서 = 파일📄 (각 문서는 고유한 `id`로 식별)
    
- 코드에서의 사용 절차
  - Firebase 인스턴스 생성
  - 컬렉션 참조 생성
  - 문서 다루기
    - 특정 id의 문서 참조 생성
    - `get()`으로 문서 스냅샷 가져오기
    - 스냅샷에서 `.doc` 접근 가능

<br>

## 싱글톤 (Singleton)
- 하나의 객체만 생성해 애플리케이션 전체에서 공유하는 패턴
- 이미 만들어진 인스턴스를 재사용하므로 불필요한 객체 생성을 방지할 수 있다

<br>

## StatefulWidget 생명주기 메서드
- createState()
  - StatefulWidget이 처음 생성될 때  
- `initState()`
  - State가 처음 초기화될 때 1회 호출  
- didChangeDependencies()
  - initState() 이후 또는 InheritedWidget이 변경되었을 때  
- `build()`
  - 위젯이 처음 그려질 때, 또는 setState()/didUpdateWidget() 호출 후  
- didUpdateWidget()
  - 부모가 위젯을 새 인스턴스로 다시 그릴 때 (State는 유지)  
- `setState()`
  - 상태 변경 발생 시 호출  
- deactivate()
  - 위젯이 트리에서 제거되기 직전  
- `dispose()`
  - 위젯이 완전히 트리에서 제거될 때  

<br>
<br>
---

### 회고

&nbsp; 오늘은 TODO 앱에 flutter_local_notifications를 사용한 로컬 알림 기능을 구현해보려다가, 권한 문제로 시간을 많이썼다. 다음부터는 시간관리를 잘 해봐야겠다.
